!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=function(){function a(){}return a.prototype.content=function(){return null},a.prototype.init=function(){},a.prototype.api=function(){return this},a.prototype.drop=function(){this.root=null,this.data=null},a.prototype.valid=function(){return null},a}();c.Base=d},{}],2:[function(a,b,c){var d=a("./utils/action_chain"),e=function(){function a(a){this._factory=[],this._instances=[],this._impl=a}return a.prototype._indexOf=function(a,b){for(var c=-1,d=0;d<b.length;++d)if(b[d]==a){c=d;break}return c},a.prototype.load=function(a,b){var c=this;void 0===a&&(a=null),void 0===b&&(b=null);var e=new d.Actions;e.push({node:a,factory:null}),e.items=function(a){for(var b=[],d=0;d<c._factory.length;++d)for(var e=c._factory[d].query(a.node),f=0;f<e.length;++f)b.push({node:e[f],factory:c._factory[d]});return b},e.item=function(a,b){if(a.factory&&a.node){var d=a.factory.factory();d.root=a.node,d.data=c._data(c._impl.collectData(a.node)),d.factory=a.factory,c._instances.push(d),c._impl.injectContent(a.node,d.content(),function(a){d.init(),b({node:a,factory:null})})}else b(null)},e.all(b)},a.prototype._exists=function(a){for(var b=0;b<this._instances.length;++b)if(this._impl.equivRoot(this._instances[b].root,a))return!0;return!1},a.prototype._data=function(a){var b={},c=[];for(var d in a){var e=2==d.split("data-").length?d.split("data-")[1]:null;if(e)for(var f=a[d],g=0;g<f.length;++g){c[g]||(c[g]={});var h=c[g];b[e]||(b[e]=[]),b[e].push(f[g]),h[e]=f[g]}}return b._all=c,b},a.prototype.add=function(a){-1==this._indexOf(a,this._factory)&&(this._factory.push(a),a.stylesheet&&this._impl.injectStyles(a.stylesheet))},a.prototype.drop=function(a){var b=this._indexOf(a,this._factory);-1!=b&&this._factory.splice(b,1)},a.prototype.prune=function(){for(var a=[],b=0;b<this._instances.length;++b)this._instances[b].valid&&this._instances[b].valid()===!0||this._impl.shouldPrune(this._instances[b].root)?this._instances[b].drop():a.push(this._instances[b]);this._instances=a},a.prototype.query=function(a){for(var b=null,c=0;c<this._instances.length;++c)if(this._impl.equivRoot(a,this._instances[c].root)){b=this._instances[c];break}return b},a}();c.Components=e},{"./utils/action_chain":6}],3:[function(a,b,c){function d(){var a=new q,b=new s(a),c=new o.Components(a);return{impl:a,factory:b,components:c}}function e(){for(var a=new q,b=new o.Components(a),c={impl:a,factory:[],components:b},d=0;10>d;++d)c.factory.push(new s(a)),c.factory[d].id=d,c.components.add(c.factory[d]);return c}function f(a){var b=d();a.ok(b.factory),a.ok(b.components),a.done()}function g(a){var b=d();b.components.add(b.factory),b.components.add(b.factory),a.equals(b.components._factory.length,1),a.done()}function h(a){var b=d();b.components.add(b.factory),b.components.drop(b.factory),a.equals(b.components._factory.length,0),a.done()}function i(a){var b=d();b.factory.stylesheet="Hi",b.components.add(b.factory),a.equals(b.impl.stylesheets,1),a.done()}function j(a){var b=e();b.factory[0].id="0",b.factory[1].id="1",b.factory[2].id="2",s.content_map[0]="2",s.content_map[2]="3",b.components.load({value:"0110"},function(){a.equals(b.impl.instances,8),a.equals(b.impl.inits,8),a.equals(b.impl.injected,4),a.done()})}function k(a){var b=d();b.factory.roots=[1,2,3],b.components.add(b.factory),b.components.load("Value",function(){a.equals(b.impl.inits,3),a.equals(b.impl.instances,3),a.done()})}function l(a){var b=d();b.factory.roots=[1,2,3],b.components.add(b.factory),b.components.load("Value",function(){b.components.prune(),a.equals(b.impl.inits,3),a.equals(b.impl.drops,3),a.done()})}function m(a){var b=d();b.factory.roots=[1],b.impl.data={"data-foo":["one","two","three"],"data-bar":["one"],"data-foobar":["1","2","3","4","5"]},b.components.add(b.factory),b.components.load("Value",function(){var c=b.components.query(1);a.equals(c.data.foo.length,3),a.equals(c.data.bar.length,1),a.equals(c.data.foobar.length,5),a.equals(c.data._all.length,5),a.equals(c.data._all[0].foo,"one"),a.equals(c.data._all[0].bar,"one"),a.equals(c.data._all[0].foobar,"1"),a.equals(c.data._all[4].foo,void 0),a.equals(c.data._all[4].bar,void 0),a.equals(c.data._all[4].foobar,"5"),a.done()})}var n=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},o=a("./components"),p=a("./component"),q=function(){function a(){this.stylesheets=0,this.instances=0,this.inits=0,this.injected=0,this.drops=0,this.data=null}return a.prototype.shouldPrune=function(){return!0},a.prototype.injectStyles=function(a){a&&(this.stylesheets+=1)},a.prototype.collectData=function(){return this.data},a.prototype.injectContent=function(a,b,c){b?(this.injected+=1,a.value=b):a.value="",c(a)},a.prototype.equivRoot=function(a,b){return a===b},a}(),r=function(a){function b(b){a.call(this),this.is_valid=null,this.inner=null,this.impl=b}return n(b,a),b.prototype.init=function(){this.impl.inits+=1},b.prototype.content=function(){return this.inner},b.prototype.valid=function(){return this.is_valid},b.prototype.drop=function(){this.impl.drops+=1},b}(p.Base),s=function(){function a(a,b,c){void 0===b&&(b=null),void 0===c&&(c=[]),this.id=null,this.impl=a,this.roots=c,this.stylesheet=b}return a.prototype.factory=function(){var b=new r(this.impl);return null!=this.id&&(b.inner=a.content_map[this.id]),this.impl.instances+=1,b},a.prototype.query=function(a){if(null!=a.value&&null!=this.id){for(var b=a.value.split(""),c=[],d=0;d<b.length;++d)b[d]==this.id&&c.push({value:b[d]});return c}var e=this.roots;return this.roots=[],e},a.content_map={},a}();c.test_create=f,c.test_add=g,c.test_drop=h,c.test_stylesheets=i,c.test_recursive_load=j,c.test_load=k,c.test_prune=l,c.test_data=m},{"./component":1,"./components":2}],4:[function(a,b,c){var d,e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},f=a("./components"),g=a("./component"),h=a("./native");!function(a){function b(b){a.components.add(b)}function c(b){a.components.drop(b)}function d(){a.components.prune()}function i(b,c){void 0===b&&(b=null),void 0===c&&(c=null),a.components.load(b,c)}var j=function(a){function b(){a.apply(this,arguments)}return e(b,a),b}(g.Base);a.Base=j,a.register=b,a.deregister=c,a.prune=d,a.load=i;var k=new h.Native;a.components=new f.Components(k)}(d=c.iwc||(c.iwc={}));try{define("iwc",function(){return d})}catch(i){try{window.iwc=d}catch(i){}}},{"./component":1,"./components":2,"./native":5}],5:[function(a,b,c){var d=a("./utils/stylesheet"),e=a("./utils/async"),f=a("./utils/walker"),g=function(){function a(){}return a.prototype.injectStyles=function(a){a&&d.appendStyleSheet(a)},a.prototype.collectData=function(a){return new f.Walk(a).walk().attribs},a.prototype.shouldPrune=function(){return!0},a.prototype.injectContent=function(a,b,c){b&&("string"==typeof b?(a.innerHTML=b,e.async(function(){c(a)})):(a.innerHTML="",e.async(function(){try{a.appendChild(b),c(b)}catch(d){throw new Error("Invalid node could not be injected into the DOM")}}))),a["data-uid"]=this._uid()},a.prototype.equivRoot=function(a,b){return a["data-uid"]===b["data-uid"]},a.prototype._uid=function(){return a.id+=1,a.id},a.id=0,a}();c.Native=g},{"./utils/async":8,"./utils/stylesheet":9,"./utils/walker":10}],6:[function(a,b,c){var d=a("./async"),e=function(){function a(){this.item=null,this.roots=[],this.complete=null}return a.prototype.push=function(a){this.roots.push(a)},a.prototype.process=function(a){var b=this;if(this.roots.length){var c=this.roots.pop(),d=this.items(c);if(0==d.length)a();else for(var e=d.length,f=function(){e-=1,0>=e&&a()},g=0;g<d.length;++g)this.item(d[g],function(a){null!=a&&b.roots.push(a),f()})}else this.complete&&this.complete()},a.prototype.all=function(a){var b=this;this.complete=a;var c=function(){d.async(function(){b.process(function(){c()})})};c()},a}();c.Actions=e},{"./async":8}],7:[function(a,b,c){function d(a){var b=new f.Actions;a.ok(b),a.done()}function e(a){var b=0,c=function(a){if(a.value){for(var b=[],c=a.value.split(" "),d=0;d<c.length;++d)b.push({value:c[d]});return b}return[]},d=function(a,c){switch(b+=1,a.value){case"00":a.value="01 01";break;case"01":a.value="02 02";break;default:a.value=null}g.async(function(){c(a)})},e=new f.Actions;e.item=d,e.items=c,e.push({value:"00 01 00 02 00"}),e.all(function(){a.equals(b,25),a.done()})}var f=a("./action_chain"),g=a("./async");c.test_create=d,c.test_recursive_command_chain=e},{"./action_chain":6,"./async":8}],8:[function(a,b,c){function d(a){setTimeout(function(){a()},1)}c.async=d},{}],9:[function(a,b,c){function d(a,b){var c=document.createElement("style");c.setAttribute("type","text/css");var d=document.getElementsByTagName("head")[0];a?d.insertBefore(c,a):d.appendChild(c),c.styleSheet&&c.styleSheet.disabled?(d.removeChild(c),b("Unable to add any more stylesheets because you have exceeded the maximum allowable stylesheets. See KB262161 for more information.")):b(null,c)}function e(a,b,c){try{a.styleSheet?a.styleSheet.cssText=b:"textContent"in a?a.textContent=b:a.appendChild(document.createTextNode(b))}catch(d){return c(d)}return c(null)}function f(a){"STYLE"===a.tagName&&a.parentNode&&a.parentNode.removeChild(a)}function g(a,b){!k.ignoreKB262161&&document.styleSheets.length>=31&&b("Unable to add any more stylesheets because you have exceeded the maximum allowable stylesheets. See KB262161 for more information."),d(a.replace?a.replace.nextSibling:a.insertBefore,function(c,d){c?b(c):e(d,a.css||"",function(c){c?(f(d),b(c)):(a.replace&&f(a.replace),b(null,d))})})}function h(a,b){void 0===b&&(b=function(){}),g({css:a},b)}function i(a,b,c){void 0===c&&(c=function(){}),g({insertBefore:a,css:b},c)}function j(a,b,c){void 0===c&&(c=function(){}),g({replace:a,css:b},c)}var k={};k.ignoreKB262161=!1,c.appendStyleSheet=h,c.insertStyleSheetBefore=i,c.replaceStyleSheet=j},{}],10:[function(a,b,c){var d=function(){function a(a){this.root=a}return a.prototype.walk=function(){var a=this;return this.attribs={},this.each(function(b){a.data(b)}),this},a.prototype.each=function(a){for(var b=[this.root];0!=b.length;){var c=b.shift();a(c);for(var d=0;d<c.childNodes.length;++d)b.push(c.childNodes[d])}},a.prototype.data=function(a){var b=[];if(a.attributes){for(var c=[],d=0;d<a.attributes.length;++d){var e=a.attributes[d];/^data-/.test(e.name)&&c.push(e)}for(var d=0;d<c.length;++d){var f=c[d].name,g=c[d].value;this.attribs[f]||(this.attribs[f]=[]),g||(g=a),this.attribs[f].push(g)}}return b},a}();c.Walk=d},{}]},{},[1,2,3,4,5,6,7,8,9,10]);